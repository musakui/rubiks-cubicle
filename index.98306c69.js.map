{"version":3,"file":"index.98306c69.js","sources":["../vite/modulepreload-polyfill","../vite/preload-helper","../src/Cube.vue","../src/Tile.vue","../src/utils.js","../src/App.vue","../src/main.js"],"sourcesContent":["const p = function polyfill() {\n    const relList = document.createElement('link').relList;\n    if (relList && relList.supports && relList.supports('modulepreload')) {\n        return;\n    }\n    for (const link of document.querySelectorAll('link[rel=\"modulepreload\"]')) {\n        processPreload(link);\n    }\n    new MutationObserver((mutations) => {\n        for (const mutation of mutations) {\n            if (mutation.type !== 'childList') {\n                continue;\n            }\n            for (const node of mutation.addedNodes) {\n                if (node.tagName === 'LINK' && node.rel === 'modulepreload')\n                    processPreload(node);\n            }\n        }\n    }).observe(document, { childList: true, subtree: true });\n    function getFetchOpts(script) {\n        const fetchOpts = {};\n        if (script.integrity)\n            fetchOpts.integrity = script.integrity;\n        if (script.referrerpolicy)\n            fetchOpts.referrerPolicy = script.referrerpolicy;\n        if (script.crossorigin === 'use-credentials')\n            fetchOpts.credentials = 'include';\n        else if (script.crossorigin === 'anonymous')\n            fetchOpts.credentials = 'omit';\n        else\n            fetchOpts.credentials = 'same-origin';\n        return fetchOpts;\n    }\n    function processPreload(link) {\n        if (link.ep)\n            // ep marker = processed\n            return;\n        link.ep = true;\n        // prepopulate the load record\n        const fetchOpts = getFetchOpts(link);\n        fetch(link.href, fetchOpts);\n    }\n};__VITE_IS_MODERN__&&p();","const scriptRel = 'modulepreload';const seen = {};const base = '/rubiks-cubicle/';export const __vitePreload = function preload(baseModule, deps) {\n    // @ts-ignore\n    if (!__VITE_IS_MODERN__ || !deps || deps.length === 0) {\n        return baseModule();\n    }\n    return Promise.all(deps.map((dep) => {\n        // @ts-ignore\n        dep = `${base}${dep}`;\n        // @ts-ignore\n        if (dep in seen)\n            return;\n        // @ts-ignore\n        seen[dep] = true;\n        const isCss = dep.endsWith('.css');\n        const cssSelector = isCss ? '[rel=\"stylesheet\"]' : '';\n        // @ts-ignore check if the file is already preloaded by SSR markup\n        if (document.querySelector(`link[href=\"${dep}\"]${cssSelector}`)) {\n            return;\n        }\n        // @ts-ignore\n        const link = document.createElement('link');\n        // @ts-ignore\n        link.rel = isCss ? 'stylesheet' : scriptRel;\n        if (!isCss) {\n            link.as = 'script';\n            link.crossOrigin = '';\n        }\n        link.href = dep;\n        // @ts-ignore\n        document.head.appendChild(link);\n        if (isCss) {\n            return new Promise((res, rej) => {\n                link.addEventListener('load', res);\n                link.addEventListener('error', rej);\n            });\n        }\n    })).then(() => baseModule());\n}","<template>\n  <canvas ref=\"canvasEl\"></canvas>\n</template>\n\n<script setup>\nimport { Engine } from '@babylonjs/core/Engines/engine'\nimport { ref, watch, onMounted, onUnmounted } from 'vue'\n\nlet scene = null\nlet engine = null\nlet rotate = null\n\nconst canvasEl = ref(null)\nconst props = defineProps({ init: Array, moves: Array })\n\nonMounted(() => {\n  engine = new Engine(canvasEl.value, true)\n  Promise.all([\n    import('./scene.js'),\n    import('./geometry.js'),\n  ]).then(async ([{ createScene, createRotator }, { createCubies, animate }]) => {\n    scene = createScene(engine)\n    engine.runRenderLoop(() => scene.render())\n    const cubies = createCubies(scene)\n    rotate = createRotator(scene, cubies, animate)\n    for (const move of [...props.init].reverse()) {\n      await rotate(move.letter, move.mod ? (move.mod === '′' ? 1 : 2) : -1, 0)\n    }\n  })\n})\n\nwatch(() => props.moves, async (val, oldval) => {\n  if (!rotate) return\n  if (val.length) {\n    for (const move of val) {\n      await rotate(move.letter, move.mod ? (move.mod === '′' ? -1 : 2) : 1, 16)\n    }\n  } else if (oldval.length) {\n    for (const move of [...oldval].reverse()) {\n      await rotate(move.letter, move.mod ? (move.mod === '′' ? 1 : 2) : -1, 5)\n    }\n  }\n})\n\nonUnmounted(() => engine?.dispose())\n</script>\n\n<style>\ncanvas {\n  --height: min(200px, calc(var(--vh, 100vh) - 310px));\n  height: var(--height);\n  width: min(350px, calc(var(--height) * 3 / 2));\n  background-color: black;\n}\n</style>","<template>\n  <div :class=\"['tile', letter && 'filled', state && 'revealed']\">\n    <div class=\"front\" :style=\"{ transitionDelay }\">\n      {{ letter }}{{ mod }}\n    </div>\n    <div :class=\"['back', backClasses[state]]\" :style=\"{ animationDelay, transitionDelay }\" >\n      {{ letter }}{{ mod }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst props = defineProps({\n  index: Number,\n  state: Number,\n  letter: String,\n  mod: String,\n})\nconst animationDelay =  `${props.index * 100}ms`\nconst transitionDelay =  `${props.index * 300}ms`\nconst backClasses = ['', 'absent', 'present', 'gmod', 'correct']\n</script>\n\n<style>\n.correct {\n  background-color: #6aaa64 !important;\n}\n\n.present {\n  background-color: #c9b458 !important;\n}\n\n.gmod {\n  background-color: #0f52e4 !important;\n}\n\n.absent {\n  background-color: #787c7e !important;\n}\n\n.tile {\n  width: 100%;\n  font-size: 2rem;\n  line-height: 2rem;\n  font-weight: bold;\n  vertical-align: middle;\n  user-select: none;\n  position: relative;\n}\n.tile.filled {\n  animation: zoom 0.2s;\n}\n.tile .front,\n.tile .back {\n  box-sizing: border-box;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transition: transform 0.6s;\n  backface-visibility: hidden;\n  -webkit-backface-visibility: hidden;\n}\n.tile .front {\n  border: 2px solid #979ea7;\n}\n.tile.filled .front {\n  border-color: #999;\n}\n.tile .back {\n  transform: rotateX(180deg);\n}\n\n.tile.revealed .front {\n  transform: rotateX(180deg);\n}\n.tile.revealed .back {\n  transform: rotateX(0deg);\n}\n\n@keyframes zoom {\n  0% { transform: scale(1.1); }\n  100% { transform: scale(1); }\n}\n\n@media (max-height: 680px) {\n  .tile { font-size: 3vh; }\n}\n</style>","const epoch = new Date('February 14, 2022 00:00:00').valueOf()\n\nconst int32 = 2 ** 32\nconst mulberry32 = (seed) => () => {\n  let t = seed += 0x6D2B79F5\n  t = Math.imul(t ^ t >>> 15, t | 1)\n  t ^= t + Math.imul(t ^ t >>> 7, t | 61)\n  return ((t ^ t >>> 14) >>> 0) / int32\n}\n\nconst MODS = ['', '′', '²']\nconst LETTERS = [...'FBUDLR']\nexport const KEYS = [LETTERS, ['Enter', '′', '2', 'Backspace']]\n\nexport const range = (length, fn) => Array.from({ length }, fn)\nexport const millis = (delay) => new Promise((resolve) => setTimeout(resolve, delay))\nexport const dayIndex = Math.floor((Date.now() - epoch) / 86400000)\n\nexport const getMoves = (seed) => {\n  const s = parseInt(seed)\n  const random = isNaN(s) ? Math.random : mulberry32(s)\n  const randInt = (max) => Math.floor(random() * max)\n  const randExcept = (n, max) => {\n    let r = n\n    while (r === n) { r = randInt(max) }\n    return r\n  }\n  const moves = []\n  let i, idx = null\n  for (i = 0; i < 5; ++i) {\n    idx = randExcept(idx, 6)\n    moves.push({ letter: LETTERS[idx], mod: MODS[randInt(3)] })\n  }\n  return moves\n}\n\nexport const answerChecker = (answer) => {\n  const clone = () => JSON.parse(JSON.stringify(answer))\n  return (guess) => {\n    const trial = clone()\n\n    // first pass: mark fully correct ones\n    for (const [i, tile] of guess.entries()) {\n      if (trial[i].letter === tile.letter && trial[i].mod === tile.mod) {\n        tile.state = 4\n        trial[i] = {}\n      }\n    }\n\n    // 2nd pass: mark correct letter, wrong modifier\n    for (const [i, tile] of guess.entries()) {\n      if (tile.state) continue\n      if (trial[i].letter === tile.letter) {\n        tile.state = 3\n        trial[i].letter = ''\n      }\n    }\n\n    // 3nd pass: mark present or absent letter\n    for (const tile of guess) {\n      if (tile.state) continue\n      const found = trial.find((t) => t.letter === tile.letter)\n      if (found) {\n        tile.state = 2\n        found.letter = ''\n      } else {\n        tile.state = 1\n      }\n    }\n\n    return guess.every((tile) => tile.state === 4)\n  }\n}","<template>\n  <Transition>\n    <div class=\"message\" v-if=\"state.message\">{{ state.message }}</div>\n  </Transition>\n  <CubeView :init=\"answer\" :moves=\"state.show\" />\n  <div id=\"board\">\n    <div v-for=\"(row, i) in board\" :class=\"[\n      'row',\n      state.shake === i && 'shake',\n      state.done && state.cur === i && 'jump'\n    ]\">\n      <LetterTile v-for=\"(tile, j) in row\" v-bind=\"tile\" :index=\"j\" />\n    </div>\n  </div>\n  <div id=\"keyboard\">\n    <div class=\"krow\" v-for=\"(row, i) in KEYS\">\n      <div class=\"spacer\" v-if=\"i === 1\"></div>\n      <button v-for=\"key in row\" v-bind=\"buttonProps(key)\" @click=\"onKeyup(key)\">\n        <template v-if=\"key !== 'Backspace'\">{{ key }}</template>\n        <svg v-else xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" height=\"24\" width=\"24\">\n          <path :d=\"backspacePath\" />\n        </svg>\n      </button>\n      <div class=\"spacer\" v-if=\"i === 1\"></div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport CubeView from './Cube.vue'\nimport LetterTile from './Tile.vue'\nimport { reactive, onUnmounted } from 'vue'\nimport { KEYS, millis, range, dayIndex, answerChecker, getMoves } from './utils.js'\n\nlet allowInput = true\n\nconst buttonProps = (key) => key.length > 1 && { 'class': 'big', 'aria-label': key }\nconst successMessages = ['Genius', 'Magnificent', 'Impressive', 'Splendid', 'Great', 'Phew']\nconst backspacePath = `m22 3h-15c-1 0-1 0-2 1l-5 8 5 8c1 1 1 1 2 1h15c1 0 2-1 2-2v-14c0-1-1-2-2-2z\nm0 16h-15l-5-7 5-7h15v14zm-12-2 4-4 4 4 1-1-4-4 4-4-1-1-4 4-4-4-1 1 4 4-4 4z`\n\nconst answer = getMoves(window.location.search.slice(1) || dayIndex)\nconst checker = answerChecker(answer)\n\nconst board = reactive(range(6, () => range(5, () => ({ letter: '', mod: '', state: 0 }))))\nconst state = reactive({\n  cur: 0,\n  shake: -1,\n  done: false,\n  message: '',\n  show: [],\n})\n\nconst modTile = (mod) => {\n  for (const tile of [...board[state.cur]].reverse()) {\n    if (!tile.letter) continue\n    if (mod) {\n      tile.mod = mod\n    } else {\n      tile.mod = ''\n      tile.letter = ''\n    }\n    break\n  }\n}\n\nconst submit = async () => {\n  const current = board[state.cur]\n\n  if (!current.every((t) => t.letter)) {\n    allowInput = false\n    state.shake = state.cur\n    await millis(1000)\n    allowInput = true\n    state.shake = -1\n    return\n  }\n\n  allowInput = false\n  const correct = checker(current)\n  state.show = current\n\n  if (correct) {\n    await millis(1000)\n    state.message = successMessages[state.cur]\n    state.done = true\n  } else if (state.cur < 5) {\n    await millis(2000)\n    ++state.cur\n    state.show = []\n    allowInput = true\n  } else {\n    await millis(1500)\n    state.message = answer.map((t) => `${t.letter}${t.mod}`).join(' ')\n  }\n}\n\nconst onKeyup = (evt) => {\n  if (!allowInput) return\n  const key = evt.key || evt\n  switch (key) {\n    case 'Enter':\n      submit()\n      break\n    case 'Backspace':\n      modTile()\n      break\n    case '2':\n      modTile('²')\n      break\n    case '`': case '′': case \"'\":\n      modTile('′')\n      break\n    default:\n      if (!/^[bdflruBDFLRU]$/.test(key)) return\n      for (const tile of board[state.cur]) {\n        if (tile.letter) continue\n        tile.letter = key.toUpperCase()\n        return\n      }\n  }\n}\n\nwindow.addEventListener('keyup', onKeyup)\nonUnmounted(() => window.removeEventListener('keyup', onKeyup))\n</script>\n\n<style>\n.message {\n  position: absolute;\n  left: 50%;\n  top: 80px;\n  color: #fff;\n  background-color: rgba(0, 0, 0, 0.85);\n  padding: 16px 20px;\n  z-index: 2;\n  border-radius: 4px;\n  transform: translateX(-50%);\n  transition: opacity 0.3s ease-out;\n  font-weight: 600;\n}\n.message.v-leave-to {\n  opacity: 0;\n}\n\n#board {\n  display: grid;\n  grid-template-rows: repeat(6, 1fr);\n  grid-gap: 5px;\n  padding: 10px;\n  box-sizing: border-box;\n  --height: min(420px, calc(var(--vh, 100vh) - 310px));\n  height: var(--height);\n  width: min(350px, calc(var(--height) / 6 * 5));\n  margin: 0px auto;\n}\n\n.row {\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  grid-gap: 5px;\n}\n\n.shake {\n  animation: shake 0.5s;\n}\n\n@keyframes shake {\n   0% { transform: translate(1px); }\n  10% { transform: translate(-2px); }\n  20% { transform: translate(2px); }\n  30% { transform: translate(-2px); }\n  40% { transform: translate(2px); }\n  50% { transform: translate(-2px); }\n  60% { transform: translate(2px); }\n  70% { transform: translate(-2px); }\n  80% { transform: translate(2px); }\n  90% { transform: translate(-2px); }\n  99% { transform: translate(1px); }\n}\n\n.jump .tile .back {\n  animation: jump 0.5s;\n}\n\n@keyframes jump {\n   0% { transform: translateY(0px); }\n  20% { transform: translateY(5px); }\n  60% { transform: translateY(-25px); }\n  90% { transform: translateY(3px); }\n  99% { transform: translateY(0px); }\n}\n\n#keyboard {\n  margin: 30px 8px 0;\n  user-select: none;\n}\n\n.krow {\n  display: flex;\n  width: 100%;\n  margin: 0 auto 8px;\n  touch-action: manipulation;\n}\n.spacer {\n  flex: 0.5;\n}\nbutton {\n  font-family: inherit;\n  font-weight: bold;\n  border: 0;\n  padding: 0;\n  margin: 0 6px 0 0;\n  height: 58px;\n  border-radius: 4px;\n  cursor: pointer;\n  user-select: none;\n  background-color: #d3d6da;\n  color: #1a1a1b;\n  flex: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0.3);\n  transition: all 0.2s 1.5s;\n}\nbutton:last-of-type {\n  margin: 0;\n}\nbutton.big {\n  flex: 1.5;\n}\n</style>","import { createApp } from 'vue'\nimport App from './App.vue'\n\nconst onResize = () => document.body.style.setProperty('--vh', window.innerHeight + 'px')\nonResize()\nwindow.addEventListener('resize', onResize)\ncreateApp(App).mount('#app')"],"names":["App"],"mappings":"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"}